webpackJsonp([2],{"9n10":function(t,n){},M6Sr:function(t,n){},NHnr:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=e("7+uW"),o={render:function(){var t=this.$createElement,n=this._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},staticRenderFns:[]};var i=e("VU/8")({name:"App"},o,!1,function(t){e("o8nZ")},null,null).exports,s=e("/ocq"),r={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("mt-loadmore",{ref:"loadmore",attrs:{"top-method":t.loadTop}},[e("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],attrs:{"infinite-scroll-disabled":"loading","infinite-scroll-distance":"10"}},t._l(t.dataList,function(n,a){return e("div",{key:a,staticClass:"home-cell"},[e("div",{staticClass:"home-cell-conent"},[t._v(t._s(n.text))]),t._v(" "),e("div",{staticClass:"home-cell-info"},[e("p",[t._v(t._s(n.time))]),t._v(" "),e("div",{staticClass:"home-cell-touch"},[e("p",{staticClass:"home-cell-touchtext",on:{click:function(n){t.touchAction(a,!0)}}},[e("span",{staticClass:"iconfont home-cell-touchicon"},[t._v("")]),t._v(t._s(n.favour))]),t._v(" "),e("p",{staticClass:"home-cell-touchtext",on:{click:function(n){t.touchAction(a,!1)}}},[e("span",{staticClass:"iconfont home-cell-touchicon"},[t._v("")]),t._v(t._s(n.disfavor))])])])])}))])],1)},staticRenderFns:[]};var c={name:"home",components:{InfoList:e("VU/8")({name:"InfoList",data:function(){return{dataList:[],loading:!1,page:1}},methods:{touchAction:function(t,n){var e=this,a=n?"favour":"disfavor";this.$store.dispatch("infoTouch",{id:this.dataList[t].id,type:a}).then(function(a){n?e.dataList[t].favour++:e.dataList[t].disfavor++})},getHomeInfo:function(){var t=this;this.$store.dispatch("infoListData",{page:this.page}).then(function(n){n&&(n.page===t.page?t.loading=!0:t.loading=!1,1===t.page?t.dataList=n.list:t.dataList=t.dataList.concat(n.list),t.$refs.loadmore.onTopLoaded())})},loadTop:function(){this.page=1,this.getHomeInfo()},loadMore:function(){this.page++,this.getHomeInfo()}},mounted:function(){this.loading=!0,this.getHomeInfo()}},r,!1,function(t){e("O56u")},"data-v-094aabe4",null).exports},data:function(){return{tabbarSelected:""}},watch:{tabbarSelected:function(t){"行情"===t&&this.$router.push("/market")}}},u={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("mt-header",{attrs:{fixed:"",title:"资讯"}}),t._v(" "),e("InfoList",{staticClass:"infolist"}),t._v(" "),e("mt-tabbar",{attrs:{fixed:""},model:{value:t.tabbarSelected,callback:function(n){t.tabbarSelected=n},expression:"tabbarSelected"}},[e("mt-tab-item",{staticClass:"tabbar-item-info",attrs:{id:"资讯"}},[e("span",{staticClass:"iconfont item-font",attrs:{slot:"icon"},slot:"icon"},[t._v("")]),t._v("\n      资讯\n    ")]),t._v(" "),e("mt-tab-item",{staticClass:"tabbar-item-icon",attrs:{id:"行情"}},[e("span",{staticClass:"iconfont item-font",attrs:{slot:"icon"},slot:"icon"},[t._v("")]),t._v("\n      行情\n    ")])],1)],1)},staticRenderFns:[]};var l=e("VU/8")(c,u,!1,function(t){e("pHQr")},"data-v-d267890c",null).exports;a.default.use(s.a);var d=new s.a({mode:"history",routes:[{path:"/",name:"Home",component:l},{path:"/market",name:"Market",component:function(){return e.e(0).then(e.bind(null,"jH04"))}}]}),f=e("NYxO"),m=e("//Fk"),p=e.n(m),h=e("Zrlr"),v=e.n(h),b=e("wxAW"),_=e.n(b),g=e("mtWM"),x=e.n(g),T=e("Au9i"),w=e.n(T),C=function(){function t(){v()(this,t),this.Domain=""}return _()(t,[{key:"require",value:function(t){var n=this;if(!t.api)throw new Error("api 不能为空");return t.params||(t.params={}),t.methods||(t.methods="GET"),t.loadingVisble||(t.loadingVisble=!0),t.loadingText||(t.loadingText="加载中。。。"),t.loadingVisble&&T.Indicator.open({text:t.loadingText,spinnerType:"fading-circle"}),new p.a(function(e,a){return x()({method:t.methods,url:t.api,baseURL:n.Domain,headers:{"Content-Type":"application/json"},params:t.params}).then(function(t){return T.Indicator.close(),"OK"===t.data.code?e(t.data.data):(Object(T.Toast)({message:t.data.error,position:"bottom"}),a(t.data.error))},function(t){return T.Indicator.close(),Object(T.Toast)({message:t,position:"bottom"}),a(t)})})}}]),t}(),L={state:{indexInfoData:null},mutations:{SET_INDEXCMS_DATA:function(t,n){t.indexInfoData=n}},actions:{infoListData:function(t,n){t.commit,t.state;return new p.a(function(t,e){var a;(a=n,(new C).require({api:"/api/v1/info/list",params:a})).then(function(n){t(n)},function(t){e(t)})})},infoTouch:function(t,n){t.commit,t.state;return new p.a(function(t,e){var a;(a=n,(new C).require({api:"api/v1/info/touch",params:a})).then(function(n){t(n)},function(t){e(t)})})},coinListData:function(t,n){t.commit,t.state;return new p.a(function(t,e){var a;(a=n,(new C).require({api:"/api/v1/info/coinList",params:a})).then(function(n){t(n)},function(t){e(t)})})}}},I={indexInfoData:function(t){return t.info.indexInfoData}};a.default.use(f.a);var S=new f.a.Store({modules:{info:L},getters:I}),D=e("v5o6"),k=e.n(D);e("9n10"),e("M6Sr"),e("TzC8"),e("d8/S");a.default.config.productionTip=!1,k.a.attach(document.body),a.default.use(w.a),new a.default({el:"#app",store:S,router:d,components:{App:i},template:"<App/>"})},O56u:function(t,n){},TzC8:function(t,n){},"d8/S":function(t,n){},o8nZ:function(t,n){},pHQr:function(t,n){}},["NHnr"]);
//# sourceMappingURL=app.9ce389babc3762480683.js.map